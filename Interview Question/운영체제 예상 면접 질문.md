> 운영체제가 무엇인가?

- 운영체제는 하드웨어 자원을 관리하고, 응용 프로그램과 하드웨어 사이를 중재하는 인터페이스를 의미합니다.
---
>  커널은 무엇인가?

운영체제의 핵심 구성요소로 하드웨어와 소프트웨어 간의 상호작용을 관리하는 중요한 역할을 합니다.
커널은 여러 기능을 수행하지만, 크게 자원관리, 프로세스관리, 메모리 관리, 입출력 관리로 나눌 수 있습니다.

- 자원관리 측면에서 커널은 CPU, 메모리, 디스크 등의 자원을 효율적으로 배분하고 관리합니다. 따라서 여러 프로그램이 동시에 실행될 때 각 프로그램이 필요한 자원을 적절하게 할당받을 수 있도록 합니다.

- 프로세스 관리에서 프로그램의 실행과 중지를 제어하며, 여러 프로세스가 동시에 실행될 때 멀티태스킹을 지원합니다. 커널은 프로세스 간 충돌을 방지하고, 필요한 경우 IPC(프로세스 간 통신) 을 관리합니다.

- 메모리 관리 기능은 프로그램이 사용할 메모리 공간을 할당하고, 메모리 자원을 최적화하는 역할을 합니다. 이를 통해 가상 메모리를 지원하고 각 프로세스가 고유한 메모리 영역을 안전하게 사용할 수 있게 합니다.

- 입출력 관리 측면에서 마우스, 키보드, 프린터와 같은 하드웨어 장치와의 통신을 관리하며 프로그램이 직접 하드웨어에 접근하는 대신 커널을 통해 안전하게 접근할 수 있도록 중재합니다. 

---

> PCB란?

- 프로세스 제어 블록(PCB)은 프로세스를 관리하기 위한 정보를 포함하는 OS 커널의 자료 구조입니다.

 

- OS는 프로세스의 생성과 동시에 고유한 PCB 를 생성합니다.

- PCB가 프로세스의 중요한 정보를 포함하고 있기 때문에, 일반 사용자가 접근하지 못하도록 보호된 메모리 영역 안에 위치합니다.

- 프로세스는 수행할 차례가 되면, CPU를 할당받아 작업을 처리합니다. 작업을 처리하던 도중 프로세스의 시간이 모두 경과되거나 인터럽트가 발생하는 등의 프로세스 전환이 발생하면, 진행하던 작업을 저장하고 CPU 를 반환합니다. 이 때, 수행하던 프로세스 관련 데이터들을 PCB 에 저장합니다. 그리고 다시 프로세스의 수행 차례가 와서 CPU 를 할당받게 되면, PCB 에 저장되어있던 내용을 불러와 이전에 종료됐던 시점부터 다시 작업을 수행합니다. 이렇게 사용하던 프로세스의 데이터를 PCB에 저장하고, 실행할 프로세스의 데이터를 PCB에서 불러오는 과정을 Context Switching 이라고 합니다.

### PCB 에 저장되는 정보

- 프로세스 식별자(Process ID, PID) : 프로세스 식별번호
- 프로세스 상태 : new, ready, running, waiting, terminated 등의 상태를 저장
- 프로그램 카운터 : 프로세스가 다음에 실행할 명령어의 주소
- CPU 레지스터
- CPU 스케쥴링 정보 : 프로세스의 우선순위, 스케줄 큐에 대한 포인터 등
- 메모리 관리 정보 : 페이지 테이블 또는 세그먼트 테이블 등과 같은 정보를 포함
- 입출력 상태 정보 : 프로세스에 할당된 입출력 장치들과 열린 파일 목록
- 어카운팅 정보 : 사용된 CPU 시간, 시간제한, 계정번호 등

---

> 프로세스와 쓰레드의 차이

- 프로세스는 실행 중인 프로그램을 말하며, 독립적이기 때문에 메모리 영역(Code, Data, Heap, Stack) 을 다른 프로세스와 공유하지 않습니다.

- 쓰레드는 프로세스 내에서 Stack 만 따로 할당 받고, 그 외의 메모리 영역을 공유하기 때문에 다른 쓰레드 실행 결과를 확인할 수 있습니다. 쓰레드는 프로세스 내에 존재하며 프로세스가 할당 받은 자원을 이용하여 실행됩니다. 

---
> 멀티 프로세스와 멀티 쓰레드의 특징

- 멀티 프로세스는 하나의 프로세스가 죽어도 다른 프로세스에 영향을 끼치지 않고 계속 실행된다는 장점이 존재하지만 멀티 쓰레드보다 많은 메모리 공간과 CPU 차지하는 단점이 있습니다.

- 멀티 쓰레드는 멀티 프로세스보다 적은 메모리 공간을 차지하고 문맥 전환이 빠르다는 장점이 있지만 하나의 쓰레드에 문제가 생기면 전체 쓰레드가 영향을 받으며 동기화 문제도 있다는 단점이 있습니다.

---
> 선점형 스케줄링과 비선점형 스케줄링의 차이

- 선점형 스케줄링은 하나의 프로세스가 다른 프로세스 대신에 CPU를 차지할 수 있음을 뜻하고
- 비선점형은 하나의 프로세스가 끝나지 않으면 다른 프로세스는 CPU 를 사용할 수 없음을 말합니다.

---
> 페이지 교체 알고리즘이란 ?

- 페이징 기법으로 메모리를 관리하는 운영체제에서 필요한 페이지가 주기억장치에 적재되지 않았을 시 어떤 페이지 프레임을 선택하여 교체할 것인지 결정하는 방법을 말합니다.

1. FIFO 
메모리에 올라온 시간이 가장 오래된 페이지를 교체하며, 페이지가 올라온 순서를 큐에 저장합니다.

2. LRU
가장 오래 사용되지 않은 페이지를 교체하는 알고리즘입니다. FIFO 알고리즘보다 효율적입니다.
3. LFU
참조 횟수가 가장 적은 페이지를 교체하는 알고리즘입니다. 만약 참조 횟수가 중복이라면 가장 오래 사용되지 않은 페이지로 교체합니다.

---
> 컨텍스트 스위칭이란 ?

멀티프로세스 환경에서 CPU 가 어떤 하나의 프로세스를 실행하고 있는 상태에서 인터럽트 요청에 의해 다음 우선 순위의 프로세스가 실행되어야 할 때 기존의 프로세스의 상태 또는 레지스터 값을 저장하고 CPU가 다음 프로세스를 수행하도록 새로운 프로세스의 상태 또는 레지스터 값을 교체하는 작업을 말합니다. 

---
> 동시성과 병렬성의 차이 ?

- 동시성은 멀티 프로세싱에서 나온 개념으로, 주기억장치에 여러 프로세스를 적재하여 컨텍스트 스위칭을 통해 동시에 실행되는 것처럼 보이게 하는 것을 의미합니다. 실제로는 동시에 실행되는 것이 아니라 번갈아 실행됩니다. 이는 싱글 코어에서 멀티스레드를 동작시키기 위한 방식입니다.

- 병렬성은 멀티 프로세싱에서 나온 개념으로 실제로 동시에 여러 프로세스를 병렬적으로 실행하는 방식입니다.
---

> 뮤텍스와 세마포어란?

<p align = "center"><img src = "https://velog.velcdn.com/images/moonjs1018/post/6db72ffa-b55a-42c8-ba15-29ff37ec9b24/image.png"></p>
<p align = "center"><img src = "https://velog.velcdn.com/images/moonjs1018/post/2e9fd53b-5543-4035-8e87-03ec92063ee7/image.png"></p>

- 뮤텍스
상호배제를 보장하는 도구로, 한 번에 하나의 스레드만 자원에 접근할 수 있도록합니다. 해당 스레드가 자원을 사용하고 있는 동안에는 다른 스레드가 그 자원에 접근할 수 없도록 막고, 자원을 다 사용한 후에 다른 스레드가 자원에 접근할 수 있게 합니다.

- 세마포어
동시 접근을 제어하는 도구로, 여러 스레드가 동시에 자원에 접근할 수 있지만, 그 수를 제한할 수 있습니다. 세마포어는 정해진 접근 카운트 값을 가지고 있으며, 스레드가 자원에 접근할 떄마다 이 값을 감소시키고, 자원을 다 사용하면 다시 값을 증가시킵니다. 

결론적으로 뮤텍스는 한 번에 하나의 스레드만 자원에 접근할 수 있도록 보장하고,
세마포어는 여러 스레드가 자원을 사용할 수 있게 하되, 최대 동시 접근 수를 제한하는 방식입니다.
이 두가지 방식을 통해 동시성 문제를 해결하고 자원의 무결성을 유지하는데 필수적 역할을 합니다.

---
> 참고 블로그
https://dev-coco.tistory.com/162
https://hoons-dev.tistory.com/95
